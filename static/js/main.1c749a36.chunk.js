(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,a,r){e.exports=r(72)},41:function(e,a,r){},72:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),l=r(10),c=r.n(l),o=(r(41),r(12)),d=r(11),u=r(1),i={deckId:null,inProgress:!1,dealerCard:{value:"",image:"",score:0,inProp:!1},player1Card:{value:"",image:"",score:0,streak:2},player2Card:{value:"",image:"",score:0,streak:2}},s={modalIsOpen:!1},p={current:{currentPlayerCount:2,currentPlayer:"player1Card",nonCurrentPlayer:"player2Card"}},y=Object(d.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"FETCH_NEW_DECK":return Object(u.a)({},e,{deckId:a.payload,dealerCard:{value:a.payload[0].value,image:a.payload[0].image},player1Card:"player1Card"===a.otherload?Object(u.a)({},e.player1Card,{value:a.payload[1].value,image:a.payload[1].image}):Object(u.a)({},i.player1Card),player2Card:"player2Card"===a.otherload?Object(u.a)({},e.player2Card,{value:a.payload[1].value,image:a.payload[1].image}):Object(u.a)({},i.player2Card)});case"FETCH_CARDS":var r=a.payload[0].value,t="JACK"===r||"QUEEN"===r||"KING"===r||"ACE"===r?10:parseInt(r),n=a.payload[1].value,l="JACK"===n||"QUEEN"===n||"KING"===n||"ACE"===n?10:parseInt(n);return Object(u.a)({},e,{inProgress:!0,dealerCard:Object(u.a)({},e.dealerCard,{value:t,image:a.payload[0].image,inProp:!1}),player1Card:"player1Card"===a.otherload?Object(u.a)({},e.player1Card,{value:l,image:a.payload[1].image}):{},player2Card:"player2Card"===a.otherload?Object(u.a)({},e.player2Card,{value:l,image:a.payload[1].image}):{}});case"SHOW_DEALER_CARD":return Object(u.a)({},e,{inProgress:!1,dealerCard:Object(u.a)({},e.dealerCard,{inProp:!0})},e.player1Card,{player1Card:Object(u.a)({},e.player1Card)},e.player2Card,{player2Card:Object(u.a)({},e.player2Card)});case"WON_HAND":return Object(u.a)({},e,e.player1Card,{player1Card:Object(u.a)({},e.player1Card,{score:e.player1Card.score+1,streak:e.player1Card.streak+1})},e.player2Card,{player2Card:Object(u.a)({},e.player2Card,{score:e.player2Card.score+1,streak:e.player2Card.streak+1})});case"LOST_HAND":return Object(u.a)({},e,e.player1Card,{player1Card:Object(u.a)({},e.player1Card,{streak:0})},e.player2Card,{player2Card:Object(u.a)({},e.player2Card,{streak:0})});case"SWITCH_PLAYER":return Object(u.a)({},e,{inProgress:!1},e.dealerCard,{player1Card:"player1Card"===a.otherload?{value:l,image:a.payload[1].image}:{},player2Card:"player2Card"===a.otherload?{value:l,image:a.payload[1].image}:{}});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_MODAL":case"CLOSE_MODAL":return{modalIsOpen:!e.modalIsOpen};default:return e}},players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SWITCH_CURRENT_PLAYER":return{current:{currentPlayerCount:a.payload.current.currentPlayerCount+1,currentPlayer:a.payload.current.currentPlayerCount%2===0?"player2Card":"player1Card",nonCurrentPlayer:a.payload.current.currentPlayerCount%2===0?"player1Card":"player2Card"}};default:return e}}}),h=r(5),C=r(6),m=r(9),v=r(7),E=r(14),f=r(8),O=r(75),b=function(e){function a(){return Object(h.a)(this,a),Object(m.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(C.a)(a,[{key:"render",value:function(){var e=this.props.dealerCard,a=e.image,r=e.inProp;return n.a.createElement("div",{className:"dealerStyle"},n.a.createElement("h1",null,"Dealer"),n.a.createElement("div",null,n.a.createElement(O.a,{timeout:400,in:r,appear:!0},function(e){return n.a.createElement("div",{className:"cardBorderBox"},n.a.createElement("div",{id:"me",className:"dealerCard  dealerCard-".concat(e)},n.a.createElement("img",{src:a,alt:""})))})))}}]),a}(t.Component),P=function(e){function a(){return Object(h.a)(this,a),Object(m.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(C.a)(a,[{key:"render",value:function(){var e=this.props,a=e.currentPlayer,r=e.player1Card,t=r.value,l=r.image;return n.a.createElement("div",{className:"player1Card"!==a?"mobile_display_hidden":null},n.a.createElement("h1",null,"Player 1"),n.a.createElement("div",{className:t?"cardBorderBox__active":"cardBorderBox"},n.a.createElement("img",{src:l,alt:""})),n.a.createElement("h4",null,"Value: ",t))}}]),a}(t.Component),g=function(e){var a=e.player1Card,r=a.score,t=a.streak,l=a.value?n.a.createElement("div",null,n.a.createElement("h3",null,"Score:",r),n.a.createElement("h3",null,"Winning Streak:",t)):null;return n.a.createElement("div",null,n.a.createElement("h1",null,"Player 1"),l)},k=function(e){function a(){return Object(h.a)(this,a),Object(m.a)(this,Object(v.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(C.a)(a,[{key:"render",value:function(){var e=this.props,a=e.currentPlayer,r=e.player2Card,t=r.value,l=r.image;return n.a.createElement("div",{className:"player2Card"!==a?"mobile_display_hidden":null},n.a.createElement("h1",null,"Player 2"),n.a.createElement("div",{className:t?"cardBorderBox__active":"cardBorderBox"},n.a.createElement("img",{src:l,alt:""})),n.a.createElement("h4",null,"Value: ",t))}}]),a}(t.Component),j=function(e){var a=e.player2Card,r=a.score,t=a.streak,l=a.value?n.a.createElement("div",null,n.a.createElement("h3",null,"Score:",r),n.a.createElement("h3",null,"Winning Streak:",t)):null;return n.a.createElement("div",null,n.a.createElement("h1",null,"Player 2"),l)},w=r(34),_=r.n(w),N=function(){return{type:"CLOSE_MODAL"}},H=Object(o.b)(function(e){return{modal:e.modal,current:e.players}},{closeModal:N})(function(e){var a=e.closeModal,r=e.handleSwitchPlayer,t=e.modal.modalIsOpen;return n.a.createElement("div",null,n.a.createElement(_.a,{className:"modal",isOpen:t,ariaHideApp:!1},n.a.createElement("div",null,n.a.createElement("h1",null,"THREE-IN-A-ROW!"),n.a.createElement("h2",null,"SWITCH TO ANOTHER PLAYER"),n.a.createElement("button",{className:"button button__switchPlayer",onClick:function(){return r(e.current)}},"SWITCH"),n.a.createElement("span",{className:"cancel__switch",onClick:function(){return a()}},n.a.createElement("p",null,"No, continue as current player")))))}),D=r(13),S=r.n(D),A=r(19),I=r(20),R=r.n(I),L=function(e){function a(e){var r;return Object(h.a)(this,a),(r=Object(m.a)(this,Object(v.a)(a).call(this,e))).handleSwitchPlayer=r.handleSwitchPlayer.bind(Object(E.a)(r)),r}return Object(f.a)(a,e),Object(C.a)(a,[{key:"componentDidMount",value:function(){this.currentPlayer=this.props.current.current.currentPlayer,this.props.fetchNewDeck(this.currentPlayer)}},{key:"componentDidUpdate",value:function(){this.currentPlayer=this.props.current.current.currentPlayer}},{key:"dealCards",value:function(){this.currentPlayer=this.props.current.current.currentPlayer,this.checkThreeRow(this.currentPlayer),this.props.fetchCards(this.props.gameId,this.currentPlayer)}},{key:"checkThreeRow",value:function(e){0!==this.props[e].streak&&this.props[e].streak%3===0&&this.handleThreeInRoW()}},{key:"handleHighChoice",value:function(e,a){this.showDealerCard(),a===e?this.handleDraw():a<e?this.handleWonHand():this.handleLostHand()}},{key:"handleLowChoice",value:function(e,a){this.showDealerCard(),a===e?this.handleDraw():a>e?this.handleWonHand():this.handleLostHand()}},{key:"showDealerCard",value:function(){this.props.showDealerCard()}},{key:"handleWonHand",value:function(){this.props.wonHand()}},{key:"handleLostHand",value:function(){this.props.lostHand()}},{key:"handleSwitchPlayer",value:function(e){this.props.switchPlayer(e),this.props.switchCounter(e.current.currentPlayer),this.props.closeModal(),this.props.fetchNewDeck(this.currentPlayer)}},{key:"handleDraw",value:function(){}},{key:"handleThreeInRoW",value:function(){this.props.showModal()}},{key:"render",value:function(){var e=this,a=this.props.current.current.currentPlayer;return n.a.createElement("div",{className:"center"},n.a.createElement("div",{className:"topDisplay"},n.a.createElement(g,{player1Card:this.props.player1Card}),n.a.createElement(b,{dealerCard:this.props.dealerCard}),n.a.createElement(j,{player2Card:this.props.player2Card})),this.props.inProgress?null:n.a.createElement("button",{className:"dealCardBtn",onClick:function(){return e.dealCards()}},"DEAL CARDS"),n.a.createElement("div",{className:"playersSection"},n.a.createElement("div",{className:"player player1Position"},n.a.createElement(P,{player1Card:this.props.player1Card,currentPlayer:a})),n.a.createElement("div",{className:"player buttonSection"},n.a.createElement("div",{className:this.props.inProgress?"buttonSection__Visible":"buttonSection__Hidden"},n.a.createElement("button",{className:"button low__button",onClick:function(){return e.handleLowChoice(e.props.dealerCard.value,e.props[a].value)}},"LOW"),n.a.createElement("button",{className:"button high__button",onClick:function(){return e.handleHighChoice(e.props.dealerCard.value,e.props[a].value)}},"HIGH"))),n.a.createElement("div",{className:"player player2Position"},n.a.createElement(k,{player2Card:this.props.player2Card,currentPlayer:a}))),n.a.createElement(H,{handleSwitchPlayer:this.handleSwitchPlayer}))}}]),a}(t.Component),T=Object(o.b)(function(e){return{inProgress:e.game.inProgress,gameId:e.game.deckId,dealerCard:e.game.dealerCard,current:e.players,player1Card:e.game.player1Card,player2Card:e.game.player2Card}},{fetchCards:function(e,a){return function(){var r=Object(A.a)(S.a.mark(function r(t){return S.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R.a.get("https://deckofcardsapi.com/api/deck/".concat(e,"/draw/?count=2\n      ")).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data.cards;t({type:"FETCH_CARDS",payload:e,otherload:a})});case 2:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()},fetchNewDeck:function(e){return function(){var a=Object(A.a)(S.a.mark(function a(r){return S.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R.a.get("https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1\n                    ").then(function(a){var t=a.data.deck_id;r({type:"FETCH_NEW_DECK",payload:t,otherload:e})});case 2:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()},wonHand:function(){return{type:"WON_HAND"}},lostHand:function(){return{type:"LOST_HAND"}},showDealerCard:function(){return{type:"SHOW_DEALER_CARD"}},showModal:function(){return{type:"OPEN_MODAL"}},closeModal:N,switchPlayer:function(e){return{type:"SWITCH_CURRENT_PLAYER",payload:e}},switchCounter:function(e){return{type:"SWITCH_PLAYER",payload:e}}})(L);var W=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(T,null))},B=r(35),M=Object(d.d)(y,Object(d.a)(B.a));c.a.render(n.a.createElement(o.a,{store:M},n.a.createElement(W,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.1c749a36.chunk.js.map